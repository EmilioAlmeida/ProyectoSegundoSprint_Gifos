let arrFavoriteGifs=[];const addToFav=(i,t,e)=>{let s={gif:i,username:t,title:e};arrFavoriteGifs.push(s),localStorage.setItem("FavoriteGifs",JSON.stringify(arrFavoriteGifs)),displayFavoriteGifs()},displayFavoriteSection=i=>{i.preventDefault(),$heroSection.classList.add("hidden"),$misGifosSection.classList.add("hidden"),$createGifSection.classList.add("hidden"),$favSection.classList.remove("hidden"),window.scrollTo({top:0,behavior:"smooth"}),displayFavoriteGifs(),0==arrFavoriteGifs||null==arrFavoriteGifs?($noFavsContainer.classList.remove("hidden"),$favContainer.classList.add("hidden")):($noFavsContainer.classList.add("hidden"),$favContainer.classList.remove("hidden"))},displayFavoriteGifs=()=>{if($favContainer.innerHTML="",null==(arrFavoriteGifs=JSON.parse(localStorage.getItem("FavoriteGifs"))))arrFavoriteGifs=[];else for(let i=0;i<arrFavoriteGifs.length;i++){let t=arrFavoriteGifs[i],e=t.gif,s=t.username,a=t.title;const n=document.createElement("div");n.classList.add("gif_container"),n.innerHTML=` \n\t\t\t<img class="gif" onclick="maximizeFavoriteGif('${e}','${s}','${a}')" src="${e}" alt="${a}">\n\t\t\n\t\t\t<div class="gifActions">\n\t\t\t\t<div class="gifActions_btn">\n\t\t\t\t\t<div class="btn remove" onclick="removeGif('${e}')"></div>\n\t\t\t\t\t<div class="btn download" onclick="downloadGif('${e}','${a}')"></div>\n\t\t\t\t\t<div class="btn maximize" onclick="maximizeFavoriteGif('${e}','${s}','${a}')"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="gif_info">\n\t\t\t\t\t<p class="gif_user">${s}</p>\n\t\t\t\t\t<p class="gif_title">${a}</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t`,$favContainer.appendChild(n)}};$favoritosMenu.addEventListener("click",displayFavoriteSection);const displayMisGifosSection=i=>{i.preventDefault(),$misGifosSection.classList.remove("hidden"),$heroSection.classList.add("hidden"),$favSection.classList.add("hidden"),$createGifSection.classList.add("hidden"),$trendingSection.classList.remove("hidden"),window.scrollTo({top:0,behavior:"smooth"}),displayMiGifos(),0==arrMyGifos||null==arrMyGifos?($noGifContainer.classList.remove("hidden"),$misGifosContainer.classList.add("hidden")):($noGifContainer.classList.add("hidden"),$misGifosContainer.classList.remove("hidden"))};$misGifosMenu.addEventListener("click",displayMisGifosSection);const displayMiGifos=()=>{if($misGifosContainer.innerHTML="",arrMyGifos=JSON.parse(localStorage.getItem("MyGifs")),console.log(arrMyGifos),null==arrMyGifos)arrMyGifos=[];else for(let i=0;i<arrMyGifos.length;i++)fetch(`${getGifByIdEndpoint}?ids=${arrMyGifos[i]}&api_key=${apiKey}`).then(i=>i.json()).then(i=>{console.log(i);const t=document.createElement("div");t.classList.add("gif_container"),t.innerHTML=`\n\t\t\t\t\t<img class="gif" src="${i.data[0].images.original.url}" alt="Gif Creado por el usuario">\n\t\t\t\t\t\n\t\t\t\t\t<div class="gifActions">\n\t\t\t\t\t\t<div class="gifActions_btn">\n\t\t\t\t\t\t\t<div class="btn remove" onclick="removeMyGifos('${i.data[0].images.original.url}')"></div>\n\t\t\t\t\t\t\t<div class="btn download" onclick="downloadGif('${i.data[0].images.original.url}','Gif')"></div>\n\t\t\t\t\t\t\t<div class="btn maximize" onclick="maximizeFavoriteGif('${i.data[0].images.original.url}','User','Gif')"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="gif_info">\n\t\t\t\t\t\t\t<p class="gif_user">Emilio Oscar Almeida</p>\n\t\t\t\t\t\t\t<p class="gif_title">Web Developer</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t`,$misGifosContainer.appendChild(t)}).catch(i=>{console.error(i)})},downloadGif=async(i,t)=>{let e=await fetch(i).then(i=>i.blob());invokeSaveAsDialog(e,t+".gif")},maximizeGif=(i,t,e)=>{$maximizedGifSection.classList.remove("hidden"),$maximizedGifSection.classList.add("maximizedGif"),$maximizedGifSection.innerHTML="";const s=document.createElement("div");s.classList.add("maximizedGif_container"),s.innerHTML=`\n\t<div class="close-btn" id="close-max-btn" onclick="closeMaximized()"></div>\n\t<div class="maxGif_Container">\n\t\t<img class="gifMax" src="${i}" alt="${e}">\n\t</div>\n\t<div class="gifMaxActions">\n\t\t<div class="gif_info">\n\t\t\t<p class="gif_user">${t}</p>\n\t\t\t<p class="gif_title">${e}</p>\n\t\t</div>\n\t\t<div class="gifMaxActions_btn">\n\t\t\t<div class="buttonsMax favoriteMax" onclick="addToFav('${i}', '${t}', '${e}')"></div>\n\t\t\t<div class="buttonsMax downloadMax" onclick="downloadGif('${i}','${e}')"></div>\n\t\t\t</div>\n\t</div>`,$maximizedGifSection.appendChild(s)},maximizeFavoriteGif=(i,t,e)=>{$maximizedGifSection.classList.remove("hidden"),$maximizedGifSection.classList.add("maximizedGif"),$maximizedGifSection.innerHTML="";const s=document.createElement("div");s.classList.add("maximizedGif_container"),s.innerHTML=`\n\t<div class="close-btn" id="close-max-btn" onclick="closeMaximized()"></div>\n\t<div class="maxGif_Container">\n\t\t<img class="gifMax" src="${i}" alt="${e}">\n\t</div>\n\t<div class="gifMaxActions">\n\t\t<div class="gif_info">\n\t\t\t<p class="gif_user">${t}</p>\n\t\t\t<p class="gif_title">${e}</p>\n\t\t</div>\n\t\t<div class="gifMaxActions_btn">\n\t\t\t<div class="buttonsMax removeMax" onclick="removeGif('${i}')"></div>\n\t\t\t<div class="buttonsMax downloadMax" onclick="downloadGif('${i}','${e}')"></div>\n\t\t\t</div>\n\t</div>`,$maximizedGifSection.appendChild(s)},closeMaximized=()=>{$maximizedGifSection.classList.add("hidden"),$maximizedGifSection.classList.remove("maximizedGif")},removeGif=i=>{let t=JSON.parse(localStorage.getItem("FavoriteGifs"));console.log(t);for(let e=0;e<t.length;e++)t[e].gif===i&&(t.splice(e,1),localStorage.setItem("FavoriteGifs",JSON.stringify(t)),displayFavoriteSection(event),closeMaximized())},removeMyGifos=i=>{arrMyGifos.splice(i,1),localStorage.setItem("MyGifs",JSON.stringify(arrMyGifos)),displayMisGifosSection(event),closeMaximized()};